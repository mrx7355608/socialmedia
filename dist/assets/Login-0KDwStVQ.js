import{r as d,u as p,j as e,S as x,L as g}from"./index-w8OPScTq.js";import{S as f}from"./SocialLoginButtons-6r7RMzpy.js";function h(){const[l,s]=d.useState(!1),[i,r]=d.useState("");async function a(c){const o="/api/v1/auth/login",u={method:"POST",credentials:"include",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};s(!0);try{const t=await(await fetch(o,u)).json();return t.ok?t.data:(r(t.error),s(!1),!1)}catch{r("An un-expected error occurred"),s(!1)}}return{loading:l,apiError:i,loginUser:a}}function j(){const{loading:l,apiError:s,loginUser:i}=h(),{setUser:r}=p(),[a,c]=d.useState({email:"",password:""});return e.jsxs("div",{className:"w-full p-6 flex flex-col lg:flex-row lg:w-3/4 gap-0 items-center justify-center py-8",children:[e.jsxs("form",{method:"post",className:"flex-1 p-0 mt-5",onSubmit:u,children:[e.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-200 mb-12",children:"Login to your account"}),s&&e.jsx("p",{className:"text-red-900 font-medium p-3 bg-red-200 rounded-lg w-full mb-6",children:s}),e.jsx("input",{onChange:o,type:"email",className:"input input-bordered w-full bg-transparent border-2 mb-4",name:"email",placeholder:"Email address"}),e.jsx("input",{onChange:o,type:"password",placeholder:"Password",className:"input input-bordered w-full bg-transparent border-2 mb-1",name:"password"}),e.jsx("p",{className:"text-sm lg:text-md text-right text-sm mb-5 hover:underline hover:cursor-pointer",children:"Forgot Password?"}),e.jsx("button",{className:"btn btn-primary w-full font-medium rounded-full",children:l?e.jsx(x,{}):"Login"}),e.jsxs("p",{className:"text-sm lg:text-md text-gray-400 w-full text-center mt-4",children:["Don't have an account?"," ",e.jsx(g,{to:"/auth/signup",className:"font-medium text-primary",children:"Signup"})]})]}),e.jsx("hr",{className:"w-full my-8 lg:w-48 lg:rotate-90 border-gray-800 max-w-md"}),e.jsx(f,{})]});async function o(n){const{name:t,value:m}=n.target;c({...a,[t]:m})}async function u(n){n.preventDefault();const t=await i(a);t&&r(t)}}export{j as default};
